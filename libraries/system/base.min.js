var cb={};cb.module={},cb.module.controller={},cb.module.view={},cb.module.store={},cb.module.storelink={},cb.module.component={},cb.config=[],cb.elenamed=0,cb.autoname=function(){var a="autoname_"+this.elenamed;return this.elenamed++,a},cb.ctr=function(a,b,c){cb.module.controller[a]&&"function"==$.type(cb.module.controller[a][b])&&cb.module.controller[a][b](c)},cb.get=function(a,b,c){return!!cb.module[a]&&(!!cb.module[a][b]&&(cb.module[a][b][c]?cb.module[a][b][c]:cb.module[a][b]))},cb.send=function(a,b,c,d){$.ajax({dataType:"script",cache:!0,url:b+"/store/"+c,method:"post",contentType:"application/x-www-form-urlencoded;charset=UTF-8",data:"string"==$.type(a)?$("form[name='"+a+"']").serializeArray():a,success:d})},cb.require=function(a,b){$.ajax({dataType:"script",cache:!0,method:"post",data:{data:JSON.stringify(a)},url:"require",success:b})},cb.loadAll=function(a,b){$.ajax({dataType:"script",cache:!0,method:"post",data:{data:JSON.stringify(a)},url:"loadAll",success:b})},cb.loadLineal=function(a){$.isArray(a[0])?cb.load(a[0][0],a[0][1],a[0][2],a[0][3],cb.loadSecondLineal(a,0)):$.isArray(a)&&a.length>2&&cb.load(a[0],a[1],a[2],a[3])},cb.loadSecondLineal=function(a,b){return function(c,d,e){b++,$.isArray(a[b])&&cb.load(a[b][0],a[b][1],a[b][2],a[b][3],cb.loadSecondLineal(a,b))}},cb.load=function(a,b,c,d,e){$.isFunction(c)&&(e=c,c=b),c||(c=b),$.isFunction(d)&&(e=d,d={}),$.isPlainObject(c)&&(d=c,c=b),"store"==a?(this.module.storelink[c]||(this.module.storelink[c]={}),$.ajax({dataType:"script",cache:!0,url:b+"/"+a+"/"+c,method:"post",data:d,success:e})):"component"==a?(this.module.component[c]||(this.module.component[c]={}),$.ajax({dataType:"script",cache:!0,url:b+"/"+a+"/"+c,method:"post",data:d,success:e})):$.cachedScript(b+"/"+a+"/"+c,"js").done(e)},cb.define=function(a){if(a.name&&a.xtype){if("store"==a.xtype&&(this.module.storelink[a.name]||(this.module.storelink[a.name]=new Object),this.storeSetValues(a.name,a.data)),a.data&&this.module[a.xtype][a.name])for(var b in this.module[a.xtype][a.name].data)a.data[b]||(a.data[b]=this.module[a.xtype][a.name].data[b]);this.module[a.xtype][a.name]=a,$.isArray(a.require)&&this.require(a.require),$.isFunction(a.onload)&&a.onload(),"view"==a.xtype&&(a.renderTo&&($(a.renderTo).empty(),a.appendTo=a.renderTo,delete a.renderTo),a.items&&(a.appendTo?a.items=this.setMissingDinamicValue(a.items,"appendTo",a.appendTo):a.prependTo&&(a.items=this.setMissingDinamicValue(a.items,"prependTo",a.prependTo))),this.render(a))}},cb.setMissingDinamicValue=function(a,b,c,d){if(d||(d=0),$.isPlainObject(a)&&!a[b])a[b]=c;else if($.isArray(a))for(n=0;n<a.length;n++)$.isPlainObject(a[n])&&!a[n][b]&&(a[n][b]=c);return d>0&&a.items&&(d--,a.items=this.setMissingDinamicValue(a.items,b,c,d)),a},cb.setDinamicValue=function(a,b,c,d){if(d||(d=0),$.isPlainObject(a))a[b]=c;else if($.isArray(a))for(n=0;n<a.length;n++)$.isPlainObject(a[n])&&(a[n][b]=c);return d>0&&a.items&&(d--,a.items=this.setDinamicValue(a.items,b,c,d)),a},cb.storeAppendValues=function(a,b,c){return b.renderTo&&$(b.renderTo).empty(),a&&(b.appendTo=a),$.isArray(c)?this.storeSetArray(b,b.field,c):$.isPlainObject(c)&&this.storeSetObject(b,b.field,c),a},cb.storeSetObject=function(a,b,c){if($.isPlainObject(c)&&a.field==b&&a.structure){a.structure.data=c;var d=this.create(a.structure),e=[],f=[];for(var g in c)if($.isArray(c[g])){var h=b?b+"."+g:g;this.storeSetArray(a,h,c[g])}else if($.isPlainObject(c[g])){var h=b?b+"."+g:g;this.storeSetObject(a,h,c[g])}else{var i="",j=[];if(b)for(var k=b+"."+g,l=k.split("."),m=0;m<l.length;m++){for(var n="",o=m;o<l.length;o++)n+=l[o],o<l.length-m&&o<l.length-1&&(n+=".");i+="[strlk='"+btoa(n)+"']",j.push(btoa(n)),$.isPlainObject(a.alterdata)&&a.alterdata[n]&&(c[g]=a.alterdata[n](c[g])),m<l.length-1&&(i+=", ")}else i="[strlk='"+btoa(g)+"']",j.push(btoa(g));""!=i&&c[g]&&(cb.storeSet($(d).find(i),c[g]),e.push(c[g]),f.push(j))}if(a.fastset){for(var p=$(d).prop("outerHTML"),q=0;q<e.length;q++)for(var m=0;m<f[q].length;m++)p=p.replace(new RegExp(f[q][m],"g"),e[q]);$(a.appendTo).append(p)}else cb.storeRecursiveSet(d,f,e),$(a.appendTo).append(d)}else $.isArray(c)&&this.storeSetArray(a,b,c)},cb.storeRecursiveSet=function(a,b,c){if($(a).children().length)$(a).children().each(function(a){cb.storeRecursiveSet(this,b,c)});else{if($(a).is("input"))var d=$(a).val();else var d=$(a).html();if(d){for(var e=d,f=0;f<c.length;f++)for(var g=0;g<b[f].length;g++)e=e.replace(new RegExp(b[f][g],"g"),c[f]);e!=d&&($(a).is("input")?$(a).val(e):$(a).html(e))}}if(a.hasAttributes&&a.hasAttributes()){var h=a.attributes;if($(a).children().length<1)var i=$(a).html();for(var j=0;j<h.length;j++)for(var f=0;f<c.length;f++)for(var g=0;g<b[f].length;g++){var k=h[j].name;if("strlk"!=k){var l=h[j].value;l=l.replace(new RegExp(b[f][g],"g"),c[f]),k=k.replace(new RegExp(b[f][g],"g"),c[f]),k!=h[j].name?$(a).removeAttr(h[j].name).attr(k,l):l!=h[j].value&&$(a).attr(h[j].name,l),$(a).children().length<1&&(i=i.replace(new RegExp(b[f][g],"g"),c[f]))}}$(a).children().length<1&&i!=$(a).html()&&$(a).html(i)}return a},cb.storeSetArray=function(a,b,c){if($.isArray(c))for(var d=0;d<c.length;d++)if($.isArray(c[d]))this.storeSetArray(a,b,c[d]);else if($.isPlainObject(c[d]))if($.isArray(a.structure))for(var e=0;e<a.structure.length;e++){var f=a;f.structure=f.structure[e],this.storeSetObject(f,b,c[d])}else this.storeSetObject(a,b,c[d])},cb.storeSetValues=function(a,b){if($.isPlainObject(this.module.storelink[a])){strlk=this.module.storelink[a];for(var c in strlk)if(b[strlk[c].field]){strlk[c].renderTo&&($(strlk[c].renderTo).empty(),strlk[c].appendTo=strlk[c].renderTo);for(var d in b)$.isArray(b[d])?this.storeSetArray(strlk[c],d,b[d]):$.isPlainObject(b[d])&&this.storeSetObject(strlk[c],d,b[d])}}for(var d in b)$("[strlk='"+btoa(a+"."+d)+"']")&&$("[strlk='"+btoa(a+"."+d)+"']").trigger("storelink",{data:b[d],field:d})},cb.storeSet=function(a,b){return $(a).is("input")?$(a).val(b):$(a).html(b),a},cb.setConfig=function(a,b){$.isArray(a)||$.isPlainObject(a)?this.config=$.extend(this.config,a):this.config[a]=b},cb.getConfig=function(a,b){if(b){if(this.config[a]&&this.config[a][b])return this.config[a][b]}else if(this.config[a])return this.config[a]},cb.delConfig=function(a,b){b?this.config[a]&&this.config[a][b]&&delete this.config[a][b]:this.config[a]&&delete this.config[a]},cb.render=function(a,b){if(vw=a.name,$.isPlainObject(a.items))!1===a.items.reload&&$("#"+a.items.id).length||(a.items.renderTo&&$(a.items.renderTo).html(""),this.create(a.items));else if($.isArray(a.items))for(var c=0;c<a.items.length;c++)!1===a.items[c].reload&&$("#"+a.items[c].id).length||(a.items[c].renderTo&&$(a.items[c].renderTo).html(""),this.create(a.items[c]));$.isFunction(b)&&b()},cb.extend=function(a,b){return console.log("Extend",b),b.forEach&&b.forEach(function(b,c){a[c]=b}),a},cb.module.bootstrapComponent={button:function(a){var b=document.createElement(a.xtype);return a.type||(a.type="default"),a.cls?a.cls="btn btn-"+a.type+" "+a.cls:a.cls="btn btn-"+a.type,a.size&&(a.cls+=" btn-"+a.size),a.type="button",a.margin||(a.margin="0 5px 0 0"),b=cb.common_prop(b,a)},nav:function(a){a.toggle||(a.toggle=cb.autoname()),a.renderTo&&"main"!=a.renderTo||(a.renderTo="header");var b=document.createElement("nav");if($(b).addClass("navbar"),a.type){for(var c=a.type.split(" "),d=0;d<c.length;d++)""!=c[d].trim()&&$(b).addClass("navbar-"+c[d]);a.notype=!0}else $(b).addClass("navbar-default");var e=document.createElement("div");if($(e).addClass("container-fluid"),e=cb.common_prop(e,a),$.isArray(a.items))for(var f=0;f<a.items.length;f++)"header"==a.items[f].xtype?(a.items[f].xtype="navbar-header",a.items[f].target=a.toggle):"collapse"!=a.items[f].xtype&&"navbar-collapse"!=a.items[f].xtype||(a.items[f].xtype="navbar-collapse",a.items[f].cls=a.toggle),$(e).append(cb.create(a.items[f]));return a.noitems=!0,$(b).append(e),b},"navbar-collapse":function(a){var b=document.createElement("div");return $(b).addClass("collapse navbar-collapse"),b=cb.common_prop(b,a)},"navbar-header":function(a){var b=document.createElement("div");return $(b).addClass("navbar-header"),b=cb.common_prop(b,a),$(b).append(cb.create({xtype:"button",type:"button",cls:"collapsed navbar-toggle",margin:"8px 5px 0 0",attr:{"data-toggle":"collapse","data-target":"."+a.target},items:[{xtype:"span",cls:"sr-only",text:"Toggle navigation"},{xtype:"span",cls:"icon-bar"},{xtype:"span",cls:"icon-bar"},{xtype:"span",cls:"icon-bar"}]})),b},"button-menu":function(a){return a.xtype="button",conta=cb.create(a),$(conta).addClass("navbar-btn"),ele=document.createElement("li"),$(ele).append(conta),ele},"text-menu":function(a){return conta=document.createElement("p"),$(conta).addClass("navbar-text"),conta=cb.common_prop(conta,a),ele=document.createElement("li"),$(ele).append(conta),ele},navbar:function(a){if(a.cls?a.cls="nav navbar-nav "+a.cls:a.cls="nav navbar-nav",a.type){for(var b=a.type.split(" "),c=0;c<b.length;c++)a.cls=a.cls+" navbar-"+b[c];a.notype=!0}var d=document.createElement("ul");if(d=cb.common_prop(d,a),$.isArray(a.items))for(var e=0;e<a.items.length;e++)"dropdown"==a.items[e].xtype&&(a.items[e].xtype="dropdown-menu"),"button"==a.items[e].xtype&&(a.items[e].xtype="button-menu"),"text"==a.items[e].xtype&&(a.items[e].xtype="text-menu"),$(d).append(cb.create(a.items[e]));return a.noitems=!0,d},"dropdown-menu":function(a){a.cls?a.cls="dropdown "+a.cls:a.cls="dropdown";var b=document.createElement("li");a.type||(a.type="dropdown"),$(b).addClass(a.type),a.id&&($(b).attr("id",a.id),a.id=!1);var c=document.createElement("a");if(c=cb.common_prop(c,{cls:"dropdown-toggle",attr:{"data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"true"}}),c=cb.common_prop(c,a),!1!==a.caret&&$(c).append(cb.create({xtype:"span",cls:"caret"})),$(b).append(c),$.isArray(a.items)||a.storelink){var d=document.createElement("ul");if($(d).addClass("dropdown-menu"),a.items)for(var e=0;e<a.items.length;e++){var f=document.createElement("li");"separator"==a.items[e].xtype||"divider"==a.items[e].xtype?(f=cb.common_prop(f,{cls:"divider",attr:{role:"separator"}}),f=cb.common_prop(f,a.items[e])):"dropdown-header"==a.items[e].xtype||"header"==a.items[e].xtype?(a.items[e].cls?a.items[e].cls="dropdown-header "+a.items[e].cls:a.items[e].cls="dropdown-header",f=cb.common_prop(f,a.items[e])):$(f).append(cb.create(a.items[e])),$(d).append(f)}$(b).append(d)}return a.noitems=!0,b},dropdown:function(a){if(a.type?a.type2=a.type:a.type2="default",a.type="button","dropup"==a.xtype)var b="btn-group "+a.xtype;else var b="btn-group";var c=document.createElement("div");$(c).attr("role","group"),$(c).addClass(b),a.group&&(c=cb.common_prop(c,a.group));var d=document.createElement("button");if(d=cb.common_prop(d,{cls:"btn btn-"+a.type2+" dropdown-toggle",attr:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",type:"button"}}),a.id||(a.id=cb.autoname()),a.size&&(a.cls+=" btn-"+a.size),a.split){var e=cb.create({xtype:"button",attr:{type:"button"},cls:"btn btn-"+a.type2});e=cb.common_prop(e,a),$(c).append(e),$(d).append(cb.create({xtype:"span",text:"&nbsp;"})),!1!==a.caret&&$(d).append(cb.create({xtype:"span",cls:"caret"})),$(d).append(cb.create({xtype:"span",text:"&nbsp;"}))}else d=cb.common_prop(d,a),!1!==a.caret&&$(d).append(cb.create({xtype:"span",cls:"caret"}));$(c).append(d);var f=document.createElement("ul");if($(f).addClass("dropdown-menu").attr("aria-labelledby",a.id),$.isArray(a.items))for(var g=0;g<a.items.length;g++){var h=document.createElement("li");"separator"==a.items[g].xtype||"divider"==a.items[g].xtype?(h=cb.common_prop(h,{cls:"divider",attr:{role:"separator"}}),h=cb.common_prop(h,a.items[g])):"dropdown-header"==a.items[g].xtype||"header"==a.items[g].xtype?(a.items[g].cls?a.items[g].cls="dropdown-header "+a.items[g].cls:a.items[g].cls="dropdown-header",h=cb.common_prop(h,a.items[g])):$(h).append(cb.create(a.items[g])),$(f).append(h)}return $(c).append(f),a.noitems=!0,c},dropup:function(a){return cb.module.bootstrapComponent.dropdown(a)},container:function(a){var b=document.createElement("div");return"fluid"==a.type?($(b).addClass("container-fluid"),a.notype=!0):$(b).addClass("container"),b=cb.common_prop(b,a)},progress:function(a){var b=document.createElement("div");if($(b).addClass("progress"),$.isArray(a.items))for(var c=0;c<a.items.length;c++)a.items[c].xtype||(a.items[c].xtype="progress-bar");else $.isPlainObject(a.items)&&(a.items.xtype||(a.items.xtype="progress-bar"));return b=cb.common_prop(b,a)},"progress-bar":function(a){var b=document.createElement("div");return $(b).addClass("progress-bar"),a.type&&$(b).addClass("progress-bar-"+a.type),a.striped&&$(b).addClass("progress-bar-striped"),(a.animated||a.active)&&$(b).addClass("active"),a.min||(a.min=0),a.max||(a.max=100),a.value&&(a.width=a.value+"%"),$(b).attr({"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.value}),b=cb.common_prop(b,a)},table:function(a){var b=document.createElement("table");if($(b).addClass("table"),$.isArray(a.items))for(var c=0;c<a.items.length;c++)"head"==a.items[c].xtype&&(a.items[c].xtype="thead"),"body"==a.items[c].xtype&&(a.items[c].xtype="tbody");return b=cb.common_prop(b,a)},thead:function(a){var b=document.createElement("thead");a.t_tr=document.createElement("tr");for(var c=0;c<a.items.length;c++)a.items[c].xtype?(a.t_th=document.createElement("th"),$(a.t_th).append(cb.create(a.items[c]))):(a.items[c].xtype="th",a.t_th=cb.create(a.items[c])),$(a.t_tr).append(a.t_th);return $(b).append(a.t_tr),a.noitems=!0,b=cb.common_prop(b,a)},tbody:function(a){var b=document.createElement("tbody");if(a.t_tr=document.createElement("tr"),a.items){for(var c=0;c<a.items.length;c++)a.t_type=0==c?"th":"td",a.items[c].xtype&&"td"!=a.items[c].xtype&&"th"!=a.items[c].xtype?(a.t_th=document.createElement(a.t_type),$(a.t_th).append(cb.create(a.items[c]))):(a.items[c].xtype||(a.items[c].xtype=a.t_type),a.t_th=cb.create(a.items[c])),a.items[c].scope&&$(a.t_th).attr("scope",a.items[c].scope),a.items[c].field&&($(a.t_th).attr("strlk",btoa(a.items[c].field)),$(a.t_tr).css("display","none")),$(a.t_tr).append(a.t_th);$(b).append(a.t_tr),a.noitems=!0}return b=cb.common_prop(b,a)},th:function(a){var b=document.createElement("th");return a.scope&&$(b).attr("scope",a.scope),b=cb.common_prop(b,a)},ico:function(a){var b=document.createElement("span");return $(b).addClass(a.type).attr({"aria-hidden":"true"}),b=cb.common_prop(b,a)},thumbnail:function(a){a.type||(a.type="div");var b=document.createElement(a.type);return a.notype=!0,a.cls?a.cls="thumbnail "+a.cls:a.cls="thumbnail",b=cb.common_prop(b,a)},alert:function(a){a.type||(a.type="warning"),(a.dismissible||a.closable)&&(a.type+=" alert-dismissible");var b=document.createElement("div");if(a.dismissible||a.closable){var c=document.createElement("span");c=cb.common_prop(c,{attr:{"aria-hidden":"true"},text:"&times;"});var d=document.createElement("button");d=cb.common_prop(d,{cls:"close",attr:{"data-dismiss":"alert","aria-label":"Close"}}),$(d).append(c),$(b).append(d)}b=cb.common_prop(b,{cls:"alert alert-"+a.type,attr:{role:"alert"}}),a.notype=!0;var e=document.createElement("span");return e=cb.common_prop(e,a),$(b).append(e),b},badge:function(a){var b=document.createElement("span");return a.cls="badge",b=cb.common_prop(b,a)},toolbar:function(a){var b=document.createElement("div");return $(b).addClass("btn-toolbar"),$(b).attr("role","toolbar"),a.label&&$(b).attr("aria-label",a.label),b=cb.common_prop(b,a)},group:function(a){var b=document.createElement("div");return"vertical"==a.type?$(b).addClass("btn-group-vertical"):$(b).addClass("btn-group"),"justified"==a.type&&$(b).addClass("btn-group-justified"),$(b).attr("role","group"),a.label&&$(b).attr("aria-label",a.label),a.size&&$(b).addClass("btn-group-"+a.size),b=cb.common_prop(b,a)},callout:function(a){var b=document.createElement("div");if($(b).addClass("bs-callout"),a.type&&$(b).addClass("bs-callout-"+a.type),a.title&&$(b).append(cb.create({xtype:"h4",text:a.title})),a.ele_p=document.createElement("p"),(a.text||a.html)&&(a.text?a.ttext=a.text:a.ttext=a.html,$(a.ele_p).html(a.ttext),a.notext=!0,a.nohtml=!0),$.isArray(a.items)){for(var c=0;c<a.items.length;c++)$(a.ele_p).append(cb.create(a.items[c]));a.noitems=!0}return $(b).append(a.ele_p),b=cb.common_prop(b,a)},panel:function(a){var b=document.createElement("div");if($(b).addClass("panel").css("margin-bottom","0px"),a.type?($(b).addClass("panel-"+a.type),a.notype=!0):$(b).addClass("panel-default"),$.isArray(a.items))for(var c=0;c<a.items.length;c++)"head"==a.items[c].xtype||"heading"==a.items[c].xtype?a.items[c].xtype="panel-heading":"body"==a.items[c].xtype||"content"==a.items[c].xtype?a.items[c].xtype="panel-body":"footer"==a.items[c].xtype?a.items[c].xtype="panel-footer":"title"==a.items[c].xtype&&(a.items[c].xtype="panel-title");return b=cb.common_prop(b,a)},"panel-heading":function(a){var b=document.createElement("div");if($(b).addClass(a.xtype),a.title&&$(b).append(cb.create({xtype:"panel-title",text:a.title})),$.isArray(a.items))for(var c=0;c<a.items.length;c++)"title"==a.items[c].xtype&&(a.items[c].xtype="panel-title");return b=cb.common_prop(b,a)},"panel-body":function(a){return cb.module.bootstrapComponent["panel-heading"](a)},"panel-footer":function(a){return cb.module.bootstrapComponent["panel-heading"](a)},"panel-title":function(a){var b=document.createElement("h3");return $(b).addClass(a.xtype),b=cb.common_prop(b,a)},tabpanel:function(a){if(a.t_ul=document.createElement("ul"),$(a.t_ul).addClass("nav nav-tabs"),$(a.t_ul).attr("role","tablist"),a.t_div=document.createElement("div"),$(a.t_div).addClass("tab-content"),a.t_content=document.createElement("div"),$(a.t_content).addClass("tab-content"),$.isArray(a.items)){a.t_n=1;for(var b=0;b<a.items.length;b++){if(a.items[b].id||(a.items[b].id=cb.autoname()),$.isPlainObject(a.items[b].tab)){if(a.t_a=document.createElement("a"),a.t_li=document.createElement("li"),"dropdown"==a.items[b].tab.xtype){if(a.t_a=cb.common_prop(a.t_a,{cls:"dropdown-toggle",attr:{role:"dropdown","aria-controls":a.items[b].id+"-contents","data-toggle":"dropdown"},id:a.items[b].id}),$(a.t_a).attr("href","#"),a.t_a=cb.common_prop(a.t_a,a.items[b].tab),$(a.t_a).append("&nbsp;"),!1!==a.caret&&$(a.t_a).append(cb.create({xtype:"span",cls:"caret"})),$(a.t_li).addClass("dropdown"),a.t_ul2=document.createElement("ul"),$(a.t_ul2).addClass("dropdown-menu"),$(a.t_ul2).attr({"aria-labelledby":a.items[b].id,id:a.items[b].id+"-contents"}),$.isArray(a.items[b].tab.items))for(var c=0;c<a.items[b].tab.items.length;c++)a.t_li2=document.createElement("li"),a.items[b].tab.items[c].xtype||(a.items[b].tab.items[c].xtype="a"),"separator"==a.items[b].tab.items[c].xtype||"divider"==a.items[b].tab.items[c].xtype?(a.t_li2=cb.common_prop(a.t_li2,{cls:"divider",attr:{role:"separator"}}),a.t_li2=cb.common_prop(a.t_li2,a.items[b].tab.items[c])):"dropdown-header"==a.items[b].tab.items[c].xtype||"header"==a.items[b].tab.items[c].xtype?(a.items[b].tab.items[c].cls?a.items[b].tab.items[c].cls="dropdown-header "+a.items[b].tab.items[c].cls:a.items[b].tab.items[c].cls="dropdown-header",a.t_li2=cb.common_prop(a.t_li2,a.items[b].tab.items[c])):("a"==a.items[b].tab.items[c].xtype&&a.items[b].tab.items[c].ref&&(a.items[b].tab.items[c].attr={role:"tab","data-toggle":"tab","aria-controls":a.items[b].tab.items[c].ref,"aria-expanded":a.items[b].tab.items[c].active},a.items[b].tab.items[c].id=a.items[b].tab.items[c].ref+"-tab",a.items[b].tab.items[c].href="#"+a.items[b].tab.items[c].ref),$(a.t_li2).append(cb.create(a.items[b].tab.items[c]))),$(a.t_ul2).append(a.t_li2);a.items[b].tab.noitems=!0}else a.t_a=cb.common_prop(a.t_a,{id:a.items[b].id+"-tab",attr:{"aria-controls":a.items[b].id,role:"tab","data-toggle":"tab"}}),$(a.t_a).attr("href","#"+a.items[b].id),$(a.t_a).append(cb.create(a.items[b].tab));a.items[b].active?$(a.t_a).attr("aria-expanded","true"):$(a.t_a).attr("aria-expanded","false"),$(a.t_li).append(a.t_a),a.t_ul2&&($(a.t_li).append(a.t_ul2),a.t_ul2=!1),$(a.t_li).attr("role","presentation"),a.items[b].active&&$(a.t_li).addClass("active"),$(a.t_ul).append(a.t_li),a.t_li=!1}if($.isPlainObject(a.items[b].panel)&&(a.items[b].panel=[a.items[b].panel]),$.isArray(a.items[b].panel))for(var c=0;c<a.items[b].panel.length;c++)$.isPlainObject(a.items[b].panel[c])&&(a.items[b].panel[c].id||(a.items[b].panel[c].id=a.items[b].id),a.items[b].panel[c].active||1!=a.items[b].panel.length||(a.items[b].panel[c].active=a.items[b].active),a.t_div=document.createElement("div"),a.t_div=cb.common_prop(a.t_div,{cls:"tab-pane fade",id:a.items[b].panel[c].id,attr:{role:"tabpanel","aria-labelledby":a.items[b].panel[c].id+"-tab"},css:{"border-left":"1px solid #DDD","border-right":"1px solid #DDD","border-bottom":"1px solid #DDD"}}),a.items[b].panel[c].active&&$(a.t_div).addClass("active in"),$(a.t_div).append(cb.create(a.items[b].panel[c])),$(a.t_content).append(a.t_div),a.t_div=!1)}}a.noitems=!0;var d=document.createElement("div");return d=cb.common_prop(d,a),$(d).attr("data-example-id","togglable-tabs"),$(d).append(a.t_ul),$(d).append(a.t_content),d},row:function(a){var b=document.createElement("div");return $(b).addClass("row"),null!=a.margin&&void 0!=a.margin||(a.margin="3px"),b=cb.common_prop(b,a)},col:function(a){var b=document.createElement("div");if(a.size||(a.size=12),$.isPlainObject(a.size))for(var c in a.size)$(b).addClass("col-"+c+"-"+a.size[c]);else $.isArray(a.size)||$(b).addClass("col-xs-"+a.size);if($.isPlainObject(a.offset))for(var c in a.offset)a.offset[c]&&$(b).addClass("col-"+c+"-offset-"+a.offset[c]);else $.isArray(a.offset)||a.offset&&$(b).addClass("col-xs-offset-"+a.offset);return null!=a.padding&&void 0!=a.padding||(a.padding="5px"),b=cb.common_prop(b,a)},input:function(a){if("file"==a.type){var b=document.createElement("label");if($(b).addClass("btn btn-default btn-file"),a.items)if($.isPlainObject(a.items))$(b).append(cb.create(a.items));else if($.isArray(a.items))for(var c=0;c<a.items.length;c++)$(b).append(cb.create(a.items[c]));var d=document.createElement("input");$(d).attr({type:"file",hidden:"hidden"}),a.id&&($(d).attr("id",a.id),delete a.type),a.name&&($(d).attr("name",a.name),delete a.name),a.listener&&($(d).on(a.listener),delete a.listener),delete a.type,a.text||a.html||a.items||!a.name||(a.text=a.name),b=cb.common_prop(b,a),$(b).append(d)}else{var b=document.createElement(a.xtype);$(b).addClass("form-control"),a.type||(a.type="text"),b=cb.common_prop(b,a)}return b},select:function(a){var b=document.createElement(a.xtype);if($(b).addClass("form-control"),$.isArray(a.items))for(var c=0;c<a.items.length;c++)a.items[c].xtype||(a.items[c].xtype="option");return b=cb.common_prop(b,a)},form:function(a){a.name||(a.name=cb.autoname());var b=document.createElement("form");if($.isArray(a.items))for(var c=0;c<a.items.length;c++)"group"==a.items[c].xtype&&(a.items[c].xtype="form-group");return b=cb.common_prop(b,a)},"form-group":function(a){var b=document.createElement("div");return $(b).addClass("form-group"),b=cb.common_prop(b,a)},label:function(a){var b=document.createElement(a.xtype);return a.for||$(b).attr("for",a.for),b=cb.common_prop(b,a)},glyphicon:function(a){var b=document.createElement("span");return $(b).addClass("glyphicon glyphicon-"+a.type),b=cb.common_prop(b,a)}},cb.props={require:function(a,b){cb.require(b.require)},cls:function(a,b){return b.nocls||$(a).addClass(b.cls),a},html:function(a,b){return b.nohtml||$(a).html(b.html),a},text:function(a,b){return b.notext||$(a).append(b.text),a},glyphicon:function(a,b){return $(a).prepend(cb.create({xtype:"glyphicon",type:b.glyphicon})),a},id:function(a,b){return $(a).attr("id",b.id),a},disable:function(a,b){return $(a).attr("disable","disable"),a},disabled:function(a,b){return $(a).attr("disabled","disabled"),a},name:function(a,b){return b.noname||$(a).attr("name",b.name),a},type:function(a,b){return b.notype||$(a).attr("type",b.type),a},href:function(a,b){return $(a).attr("href",b.href),a},value:function(a,b){return b.novalue||$(a).attr("value",b.value),a},margin:function(a,b){return $(a).css("margin",b.margin),a},padding:function(a,b){return $(a).css("padding",b.padding),a},color:function(a,b){return $(a).css("color",b.color),a},border:function(a,b){return $(a).css("border",b.border),a},src:function(a,b){return $(a).attr("src",b.src),a},float:function(a,b){return $(a).css("float",b.float),a},shadow:function(a,b){return $(a).css("box-shadow",b.shadow),a},size:function(a,b){return $(a).css("font-size",b.size),a},weight:function(a,b){return $(a).css("font-weight",b.weight),a},align:function(a,b){return $(a).css("text-align",b.align),a},pull:function(a,b){return $(a).addClass("pull-"+b.pull),a},height:function(a,b){return $(a).css("height",b.height),a},width:function(a,b){return $(a).css("width",b.width),a},placeholder:function(a,b){return $(a).attr("placeholder",b.placeholder),a},display:function(a,b){return $(a).css("display",b.display),a},cursor:function(a,b){return $(a).css("cursor",b.cursor),a},background:function(a,b){return $(a).css("background",b.background),a},badge:function(a,b){return $(a).append("&nbsp;").append(cb.create({xtype:"badge",text:b.badge})),a}},cb.create=function(a){if(a.xtype||(a.xtype="span"),"string"==$.type(a.xtype)){if(a.defaults&&a.items)for(var b in a.defaults)a.items=this.setMissingDinamicValue(a.items,b,a.defaults[b]);if($.isFunction(cb.module.bootstrapComponent[a.xtype]))var c=cb.module.bootstrapComponent[a.xtype](a);else if($.isPlainObject(cb.module.component[a.xtype])){var c=this.create(cb.module.component[a.xtype]);c=this.common_prop(c,a)}else{var c=document.createElement(a.xtype);c=this.common_prop(c,a)}if($.isPlainObject(a.items)&&$(c).append(this.create(a.items)),$.isArray(a.items)&&!a.noitems)for(var d=0;d<a.items.length;d++)$(c).append(this.create(a.items[d]));if(a.renderTo&&$(a.renderTo).empty().append(c),a.appendTo&&$(a.appendTo).append(c),a.prependTo&&$(a.prependTo).prepend(c),a.storelink&&!a.nostorelink)if(a.data&&a.data[a.storelink.field]&&"current"==a.storelink.store)$("body").find(a.storelink.appendTo).length?this.storeAppendValues(a.storelink.appendTo,a.storelink,a.data[a.storelink.field]):$("body").find(a.storelink.renderTo).length&&this.storeAppendValues(a.storelink.renderTo,a.storelink,a.data[a.storelink.field]);else if(this.module.store[a.storelink.store]&&this.module.store[a.storelink.store].data[a.storelink.field])if($("body").find(a.storelink.appendTo).length)this.storeAppendValues($(a.storelink.appendTo),a.storelink,this.module.store[a.storelink.store].data[a.storelink.field]);else{var e=document.createElement("div");$(e).append(c),$(e).find(a.storelink.appendTo).length&&(t_strlk_ele=$(e).find(a.storelink.appendTo),this.storeAppendValues(t_strlk_ele,a.storelink,this.module.store[a.storelink.store].data[a.storelink.field]),$(e).find(a.storelink.appendTo).append($(t_strlk_ele).contents()),c=$(e).contents())}return c}},cb.common_prop=function(a,b){for(var c in b)this.props[c]&&(a=this.props[c](a,b));if($.isPlainObject(b.css)&&$(a).css(b.css),$.isPlainObject(b.attr)&&$(a).attr(b.attr),b.data&&$.isArray(b.items))for(var d=0;d<b.items.length;d++)b.items[d].data=b.data;return b.storelink&&b.storelink.store&&(this.module.storelink[b.storelink.store]||(this.module.storelink[b.storelink.store]={}),b.storelink.id||(b.id?b.storelink.id=b.id:(b.id=this.autoname(),b.storelink.id=b.id,$(a).attr("id",b.storelink.id))),b.storelink.field||(b.storelink.field=b.storelink.store),this.module.storelink[b.storelink.store][b.storelink.id]=b.storelink,b.data&&b.data[b.storelink.field]&&"current"==b.storelink.store?(b.storelink.appendTo&&b.storelink.appendTo!="#"+b.id||b.storelink.renderTo&&b.storelink.renderTo!="#"+b.id)&&(!b.storelink.appendTo||b.id)&&(!b.storelink.renderTo||b.id)||(b.nostorelink=!0,a=this.storeAppendValues(a,b.storelink,b.data[b.storelink.field])):this.module.store[b.storelink.store]&&this.module.store[b.storelink.store].data[b.storelink.field]&&(b.storelink.renderTo||b.storelink.appendTo||(b.storelink.renderTo="#"+b.id),b.storelink.renderTo!="#"+b.id&&b.storelink.appendTo!="#"+b.id||(b.nostorelink=!0,a=this.storeAppendValues(a,b.storelink,this.module.store[b.storelink.store].data[b.storelink.field])))),b.store&&b.field?(cb.module.store[b.store]&&cb.module.store[b.store].data[b.field]&&cb.storeSet(a,cb.module.store[b.store].data[b.field]),$(a).attr("strlk",btoa(b.store+"."+b.field)).on("storelink",function(a,b){b=b.data,cb.storeSet(this,b)})):b.field&&$(a).attr("strlk",btoa(b.field)),b.listener&&$(a).on(b.listener),a},cb.strpos=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b[0])for(var d=1;d<=b.length;d++){if(d==b.length)return c-b.length+1;a[c]!=b[d]&&(d=b.length+1)}return!1},cb.enable=function(a){$(a).removeAttr("disabled")},cb.disable=function(a){$(a).attr("disabled","disabled")},cb.sto=function(a,b){setTimeout(a,b)},cb.popup=function(a){if($.isPlainObject(a)){a.xtype||(a.xtype="panel"),a.css||(a.css={}),a.id||(a.id=this.autoname()),a.offsetTop||(a.offsetTop=0),a.css.margin="auto";var b=this.create({xtype:"div",css:{position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",overflow:"hidden","z-index":16777271}}),c=a.id,d=this.create(a);$(d).bind("destroy",function(){$(this).parent().remove()}),$(b).append(d),$(document.body).append(b),this.verticalCenter("#"+c,a.offsetTop),a.effect&&this.effect("#"+c,a.effect)}},cb.verticalCenter=function(a,b){var c=$(window).height(),d=$(a).height(),e=(c-d)/2-b;return e<0&&(e=0),$(a).css({"margin-top":e}),a},cb.effect=function(a,b){if("string"==$.type(b))var c=b;else if($.isArray(b)){if(b[0])var c=b[0];if(b[1])var d=b[1];if(b[2])var e=b[2];if(b[3])var f=b[3]}else if($.isPlainObject(b)){if(b.type)var c=b.type;if(b.value)var e=b.value;if(b.vel)var d=b.vel;if(b.dire)var f=b.dire;if($.isFunction(b.fun))var g=b.fun}if(!g)var g=function(){};if(d)$.isFunction(d)&&(g=d,d="fast");else var d="fast";if(e&&$.isNumeric(e))$.isFunction(e)&&(g=e,e=20);else var e=20;if(f)$.isFunction(f)&&(g=f,f="up");else var f="up";if("fadein"==c&&$(a).fadeIn(d,g),"fadeout"==c&&$(a).fadeOut(d,g),"flipin"==c)if("up"==f){var h=$(window).height(),i=$(a).css("top").replace("px","");if($.isNumeric(i))$(a).css({top:h+"px",opacity:0}).animate({opacity:1,top:i+"px"},d,g);else{var j=$(a).css("margin-top").replace("px","");$.isNumeric(j)||(j=0),$(a).css({"margin-top":h+"px",opacity:0}).animate({opacity:1,"margin-top":j+"px"},d,g)}}else if("down"==f){var k=-1*$(a).height(),i=$(a).css("top").replace("px","");if($.isNumeric(i))$(a).css({top:k+"px",opacity:0}).animate({opacity:1,top:i+"px"},d,g);else{var j=$(a).css("margin-top").replace("px","");$.isNumeric(j)||(j=0),$(a).css({"margin-top":k+"px",opacity:0}).animate({opacity:1,"margin-top":j+"px"},d,g)}}else if("right"==f){var l=-1*$(a).width(),m=$(a).css("left").replace("px","");if($.isNumeric(m))$(a).css({left:l+"px",opacity:0}).animate({opacity:1,left:m+"px"},d,g);else{var j=$(a).css("margin-left").replace("px","");$.isNumeric(j)||(j=0),$(a).css({"margin-left":l+"px",opacity:0}).animate({opacity:1,"margin-left":j+"px"},d,g)}}else if("left"==f){var l=$(window).width(),m=$(a).css("left").replace("px","");if($.isNumeric(m))$(a).css({left:l+"px",opacity:0}).animate({opacity:1,left:m+"px"},d,g);else{var j=$(a).css("margin-left").replace("px","");$.isNumeric(j)||(j=0),$(a).css({"margin-left":l+"px",opacity:0}).animate({opacity:1,"margin-left":j+"px"},d,g)}}if("flipout"==c)if("down"==f){var h=$(window).height(),i=$(a).css("top").replace("px","");$.isNumeric(i)?$(a).animate({top:h+"px",opacity:0},d,g):$(a).animate({"margin-top":h+"px",opacity:0},d,g)}else if("up"==f){var k=-1*$(a).height(),i=$(a).css("top").replace("px","");$.isNumeric(i)?$(a).animate({top:k+"px",opacity:0},d,g):$(a).animate({"margin-top":k+"px",opacity:0},d,g)}else if("left"==f){var l=-1*$(a).width(),m=$(a).css("left").replace("px","");$.isNumeric(m)?$(a).animate({left:l+"px",opacity:0},d,g):$(a).animate({"margin-left":l+"px",opacity:0},d,g)}else if("right"==f){var l=$(window).width(),m=$(a).css("left").replace("px","");$.isNumeric(m)?$(a).animate({left:l+"px",opacity:0},d,g):$(a).animate({"margin-left":l+"px",opacity:0},d,g)}},cb.fileUpload=function(a,b,c,d,e,f){if($.isFunction(e)&&(f=e,delete e),$.isFunction(d)&&(f=d,delete d),window.XMLHttpRequest)var g=new XMLHttpRequest;else var g=new ActiveXObject("Microsoft.XMLHTTP");var h=new FormData;if($.isPlainObject(e))for(var i in e)h.append(i,e[i]);if(h.append("file",a),d){if(!$(d).hasClass("progress-bar"))var j=$(d).find(".progress-bar");j&&(d=j),g.progessbar=d}$.isFunction(f)&&(g.callback=f),g.addEventListener("progress",function(a){var b=a.position||a.loaded,c=a.totalSize||a.total;$(this.progessbar).css("width",Math.floor(b/c*1e3)/10+"%")}),g.upload&&(g.upload.progessbar=d,g.upload.addEventListener("progress",function(a){var b=a.position||a.loaded,c=a.totalSize||a.total;$(this.progessbar).css("width",Math.floor(b/c*1e3)/10+"%")})),g.onreadystatechange=function(a){4==this.readyState&&this.callback&&this.callback(this.response,a)},g.open("post",b+"/store/"+c,!0),g.send(h)};